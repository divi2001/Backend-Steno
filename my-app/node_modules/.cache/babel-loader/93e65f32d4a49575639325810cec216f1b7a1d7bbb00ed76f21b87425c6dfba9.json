{"ast":null,"code":"import React from'react';import{useEffect,useState}from'react';import LoginComponent from'./components/InstituteLogin';import{HashRouter as Router,Routes,Route,Navigate}from'react-router-dom';import axios from'axios';import InstituteDashboard from'./components/InstituteDashboard';import LoginForm from'./components/StudentForm';import StudentList from'./components/StudentList';import PayStudentList from'./components/PayStudentList';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";axios.defaults.withCredentials=true;const App=()=>{const[isAuthenticated,setIsAuthenticated]=useState(false);const[loading,setLoading]=useState(true);useEffect(()=>{axios.get('http://3.110.77.175:3000/check-auth').then(response=>{setIsAuthenticated(response.data.isAuthenticated);console.log(response.data.isAuthenticated);}).catch(()=>{setIsAuthenticated(false);}).finally(()=>{setLoading(false);});},[]);if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:isAuthenticated?/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\"}):/*#__PURE__*/_jsx(Navigate,{to:\"/login_institute\"})}),/*#__PURE__*/_jsx(Route,{path:\"/login_institute\",element:isAuthenticated?/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\"}):/*#__PURE__*/_jsx(LoginComponent,{setIsAuthenticated:setIsAuthenticated})}),\"        \",/*#__PURE__*/_jsxs(Route,{path:\"/dashboard\",element:isAuthenticated?/*#__PURE__*/_jsx(InstituteDashboard,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/login_institute\"}),children:[/*#__PURE__*/_jsx(Route,{path:\"students\",element:/*#__PURE__*/_jsx(StudentList,{})}),/*#__PURE__*/_jsx(Route,{path:\"registration\",element:/*#__PURE__*/_jsx(LoginForm,{})}),/*#__PURE__*/_jsx(Route,{path:\"paystudents\",element:/*#__PURE__*/_jsx(PayStudentList,{})})]})]})});};export default App;","map":{"version":3,"names":["React","useEffect","useState","LoginComponent","HashRouter","Router","Routes","Route","Navigate","axios","InstituteDashboard","LoginForm","StudentList","PayStudentList","jsx","_jsx","jsxs","_jsxs","defaults","withCredentials","App","isAuthenticated","setIsAuthenticated","loading","setLoading","get","then","response","data","console","log","catch","finally","children","path","element","to"],"sources":["C:/freelancer/kkcs sofware dev/demo/my-app/src/App.js"],"sourcesContent":["import React from 'react';\nimport { useEffect, useState } from 'react';\nimport LoginComponent from './components/InstituteLogin';\nimport { HashRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport axios from 'axios';\nimport InstituteDashboard from './components/InstituteDashboard';\nimport LoginForm from './components/StudentForm';\nimport StudentList from './components/StudentList';\nimport PayStudentList from './components/PayStudentList';\n\naxios.defaults.withCredentials = true;\n\nconst App = () => {\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    axios.get('http://3.110.77.175:3000/check-auth')\n      .then(response => {\n        setIsAuthenticated(response.data.isAuthenticated);\n        console.log(response.data.isAuthenticated);\n      })\n      .catch(() => {\n        setIsAuthenticated(false);\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n  }, []);\n\n  if (loading) {\n    return <div>Loading...</div>;\n  }\n\n  return (\n    <Router>\n      <Routes>\n        <Route path=\"/\" element={isAuthenticated ? <Navigate to=\"/dashboard\" /> : <Navigate to=\"/login_institute\" />} />\n        <Route path=\"/login_institute\" element={isAuthenticated ? <Navigate to=\"/dashboard\" /> : <LoginComponent setIsAuthenticated={setIsAuthenticated} />} />        <Route path=\"/dashboard\" element={isAuthenticated ? <InstituteDashboard /> : <Navigate to=\"/login_institute\" />}>\n          <Route path=\"students\" element={<StudentList />} />\n          <Route path=\"registration\" element={<LoginForm />} />\n          <Route path=\"paystudents\" element={<PayStudentList />} />\n        </Route>\n      </Routes>\n    </Router>\n  );\n};\n\nexport default App;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAO,CAAAC,cAAc,KAAM,6BAA6B,CACxD,OAASC,UAAU,GAAI,CAAAC,MAAM,CAAEC,MAAM,CAAEC,KAAK,CAAEC,QAAQ,KAAQ,kBAAkB,CAChF,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,kBAAkB,KAAM,iCAAiC,CAChE,MAAO,CAAAC,SAAS,KAAM,0BAA0B,CAChD,MAAO,CAAAC,WAAW,KAAM,0BAA0B,CAClD,MAAO,CAAAC,cAAc,KAAM,6BAA6B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEzDR,KAAK,CAACS,QAAQ,CAACC,eAAe,CAAG,IAAI,CAErC,KAAM,CAAAC,GAAG,CAAGA,CAAA,GAAM,CAChB,KAAM,CAACC,eAAe,CAAEC,kBAAkB,CAAC,CAAGpB,QAAQ,CAAC,KAAK,CAAC,CAC7D,KAAM,CAACqB,OAAO,CAAEC,UAAU,CAAC,CAAGtB,QAAQ,CAAC,IAAI,CAAC,CAE5CD,SAAS,CAAC,IAAM,CACdQ,KAAK,CAACgB,GAAG,CAAC,qCAAqC,CAAC,CAC7CC,IAAI,CAACC,QAAQ,EAAI,CAChBL,kBAAkB,CAACK,QAAQ,CAACC,IAAI,CAACP,eAAe,CAAC,CACjDQ,OAAO,CAACC,GAAG,CAACH,QAAQ,CAACC,IAAI,CAACP,eAAe,CAAC,CAC5C,CAAC,CAAC,CACDU,KAAK,CAAC,IAAM,CACXT,kBAAkB,CAAC,KAAK,CAAC,CAC3B,CAAC,CAAC,CACDU,OAAO,CAAC,IAAM,CACbR,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAEN,GAAID,OAAO,CAAE,CACX,mBAAOR,IAAA,QAAAkB,QAAA,CAAK,YAAU,CAAK,CAAC,CAC9B,CAEA,mBACElB,IAAA,CAACV,MAAM,EAAA4B,QAAA,cACLhB,KAAA,CAACX,MAAM,EAAA2B,QAAA,eACLlB,IAAA,CAACR,KAAK,EAAC2B,IAAI,CAAC,GAAG,CAACC,OAAO,CAAEd,eAAe,cAAGN,IAAA,CAACP,QAAQ,EAAC4B,EAAE,CAAC,YAAY,CAAE,CAAC,cAAGrB,IAAA,CAACP,QAAQ,EAAC4B,EAAE,CAAC,kBAAkB,CAAE,CAAE,CAAE,CAAC,cAChHrB,IAAA,CAACR,KAAK,EAAC2B,IAAI,CAAC,kBAAkB,CAACC,OAAO,CAAEd,eAAe,cAAGN,IAAA,CAACP,QAAQ,EAAC4B,EAAE,CAAC,YAAY,CAAE,CAAC,cAAGrB,IAAA,CAACZ,cAAc,EAACmB,kBAAkB,CAAEA,kBAAmB,CAAE,CAAE,CAAE,CAAC,WAAQ,cAAAL,KAAA,CAACV,KAAK,EAAC2B,IAAI,CAAC,YAAY,CAACC,OAAO,CAAEd,eAAe,cAAGN,IAAA,CAACL,kBAAkB,GAAE,CAAC,cAAGK,IAAA,CAACP,QAAQ,EAAC4B,EAAE,CAAC,kBAAkB,CAAE,CAAE,CAAAH,QAAA,eAC7QlB,IAAA,CAACR,KAAK,EAAC2B,IAAI,CAAC,UAAU,CAACC,OAAO,cAAEpB,IAAA,CAACH,WAAW,GAAE,CAAE,CAAE,CAAC,cACnDG,IAAA,CAACR,KAAK,EAAC2B,IAAI,CAAC,cAAc,CAACC,OAAO,cAAEpB,IAAA,CAACJ,SAAS,GAAE,CAAE,CAAE,CAAC,cACrDI,IAAA,CAACR,KAAK,EAAC2B,IAAI,CAAC,aAAa,CAACC,OAAO,cAAEpB,IAAA,CAACF,cAAc,GAAE,CAAE,CAAE,CAAC,EACpD,CAAC,EACF,CAAC,CACH,CAAC,CAEb,CAAC,CAED,cAAe,CAAAO,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}